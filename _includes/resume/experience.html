{% comment -%}
TODO: remove this silly assign once we're on Jekyll 4
Also, using block comment because single line comment detection seems broken
{% endcomment -%}
{% assign experience_by_date = site.experience | sort: "dates.start" | reverse -%}
{% for experience in experience_by_date %}
  <ul>
    <li>
      <h3>
        <p class="title-plus-company">
          <em class="title">{{ experience.position }}</em>
          at
          <em class="company">{{ experience.company.name }}</em>
        </p>
      </h3>
      <p class="job-duration-location">
        <time datetime="{{ experience.dates.start | date: '%Y-%m' }}">{{ experience.dates.start | date: '%B, %Y' }}</time>
        -
        {% if experience.dates.end %}
          <time datetime="{{ experience.dates.end | date: '%Y-%m' }}">{{ experience.dates.end | date: '%B, %Y' }}</time>
        {% else %}
          Present
        {% endif %}
        | {{ experience.company.location }}
      </p>
      <br>
      {{ experience.content }}
      <br>
      <p class="technologies">Technologies used: {{ experience.technologies | join: ', ' }}</p>
      <hr>
    </li>
  </ul>
{% endfor %}